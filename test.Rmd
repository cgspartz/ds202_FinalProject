---
title: "Injuries in the NFL"
author: "Christopher Spartz"
date: "11/15/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r setup-libs}
library(rvest)
library(stringr)
library(tidyverse)
library(ggplot2)
library(purrr)
library(lubridate)
library(RSelenium)

teamids <- c('mia','nwe','buf','nyj','pit','rav','cin','cle','jax','oti',
           'htx','clt','kan','sdg','rai','den','phi','dal','was','nyg',
           'min','det','gnb','chi','nor','car','atl','tam','ram','sea',
           'crd','sfo')
tm <- "chi"
years <- c("2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020")
injurls <- list()
rosturls <- list()
```
```{r inj-links}
c <- 1
for (y in seq_along(years)) {
  for (t in seq_along(teamids)) {
    injurls[c] <- sprintf("https://www.pro-football-reference.com/teams/%s/%s_injuries.htm", teamids[t] , years[y])
    c <- c+1
  }
}
```
```{r rost-links}
c <- 1
for (t in seq_along(teamids)) {
  rosturls[c] <- sprintf("https://www.pro-football-reference.com/teams/%s/lineups.htm", teamids[t])
  c <- c+1
}
```
```{r inj-tables}
chil <- read_html("https://www.pro-football-reference.com/teams/chi/2010_injuries.htm")
i <- chil %>%
  html_node('table#team_injuries')%>%
  html_table()
```
```{r starters}
chil <- read_html("https://www.pro-football-reference.com/teams/chi/lineups.htm#starting_lineups")
p <- chil %>%
  html_node('table#starting_lineups')%>%
  html_table()
```






